reps <- 100
r <- rep(sample_size, 100)
r <- sort(r)
g <- map(sample_size, ~rep_get_sample_mean(x=x, n_sample=., n_reps=reps))
df <- tibble(means = g %>% unlist(), sample_size=r)
df %>%
filter(sample_size == max(df$sample_size)) %>%
ggplot(aes(x = means)) +
geom_histogram()
rep_get_sample_mean <- function(x, n_sample, n_reps){
map_dbl(1:n_reps,
~get_sample_mean(x = x,
n_sample = n_sample))
}
library(tidyverse)
rm(list=ls())
library(tidyverse)
library(Rsenal)
x <- rnorm(100000, mean=3, sd=10)
get_sample_mean <- function(x, n_sample){
x_sample <- x %>% sample(n_sample)
mean(x_sample, na.rm = TRUE)
}
x %>% sample(10000)
rep_get_sample_mean <- function(x, n_sample, n_reps){
map_dbl(1:n_reps,
~get_sample_mean(x = x,
n_sample = n_sample))
}
sample_size <- seq(50, 10000, 500)
reps <- 100
r <- rep(sample_size, 100)
r <- sort(r)
g <- map(sample_size, ~rep_get_sample_mean(x=x, n_sample=., n_reps=reps))
df <- tibble(means = g %>% unlist(), sample_size=r)
df %>%
filter(sample_size == max(df$sample_size)) %>%
ggplot(aes(x = means)) +
geom_histogram()
sample_size <- seq(50, 100000, 500)
reps <- 100
r <- rep(sample_size, 100)
r <- sort(r)
g <- map(sample_size, ~rep_get_sample_mean(x=x, n_sample=., n_reps=reps))
df <- tibble(means = g %>% unlist(), sample_size=r)
df %>%
filter(sample_size == max(df$sample_size)) %>%
ggplot(aes(x = means)) +
geom_histogram()
x <- rnorm(100000, mean=3, sd=2)
get_sample_mean <- function(x, n_sample){
x_sample <- x %>% sample(n_sample)
mean(x_sample, na.rm = TRUE)
}
x %>% sample(10000)
rep_get_sample_mean <- function(x, n_sample, n_reps){
map_dbl(1:n_reps,
~get_sample_mean(x = x,
n_sample = n_sample))
}
sample_size <- seq(50, 100000, 500)
reps <- 100
r <- rep(sample_size, 100)
r <- sort(r)
g <- map(sample_size, ~rep_get_sample_mean(x=x, n_sample=., n_reps=reps))
df <- tibble(means = g %>% unlist(), sample_size=r)
df %>%
filter(sample_size == max(df$sample_size)) %>%
ggplot(aes(x = means)) +
geom_histogram()
x <- rnorm(100000, mean=3, sd=0.5)
get_sample_mean <- function(x, n_sample){
x_sample <- x %>% sample(n_sample)
mean(x_sample, na.rm = TRUE)
}
x %>% sample(10000)
rep_get_sample_mean <- function(x, n_sample, n_reps){
map_dbl(1:n_reps,
~get_sample_mean(x = x,
n_sample = n_sample))
}
sample_size <- seq(50, 100000, 1000)
reps <- 100
r <- rep(sample_size, 100)
r <- sort(r)
g <- map(sample_size, ~rep_get_sample_mean(x=x, n_sample=., n_reps=reps))
df <- tibble(means = g %>% unlist(), sample_size=r)
df %>%
filter(sample_size == max(df$sample_size)) %>%
ggplot(aes(x = means)) +
geom_histogram()
rm(list=ls())
library(tidyverse)
library(Rsenal)
x <- rnorm(100000, mean=3, sd=0.5)
get_sample_mean <- function(x, n_sample){
x_sample <- x %>% sample(n_sample)
mean(x_sample, na.rm = TRUE)
}
x %>% sample(10000)
rep_get_sample_mean <- function(x, n_sample, n_reps){
map_dbl(1:n_reps,
~get_sample_mean(x = x,
n_sample = n_sample))
}
sample_size <- seq(50, 100000, 1000)
reps <- 10000
r <- rep(sample_size, 100)
r <- sort(r)
g <- map(sample_size, ~rep_get_sample_mean(x=x, n_sample=., n_reps=reps))
x <- rnorm(100000, mean=3, sd=1)
rm(list=ls())
library(tidyverse)
library(Rsenal)
rm(list=ls())
library(tidyverse)
library(Rsenal)
library(rsenal)
x <- rnorm(100000, mean=3, sd=1)
mean(x)
set.seed(2323)
x <- rnorm(100000, mean=3, sd=1)
sample(x, size = 20, replace=FALSE)
get_sample_mean(x, size){
sample_x <- sample(x, size = size, replace=FALSE)
mean(sample_x)
}
get_sample_mean(x, size){
sample_x <- sample(x, size = size, replace=FALSE)
mean(sample_x)
}
get_sample_mean(x, size){
sample_x <- sample(x, size = size, replace=FALSE)
mean(sample_x)
}
get_sample_mean <- function(x, size){
sample_x <- sample(x, size = size, replace=FALSE)
mean(sample_x)
}
get_sample_mean <- function(x, size){
if (size > length(x))
stop("size must be smaller than length of x")
sample(x, size = size, replace=FALSE)
}
get_sample <- function(x, size){
if (size > length(x))
stop("size must be smaller than length of x")
sample(x, size = size, replace=FALSE)
}
sample_size <- seq(2, 500, 50)
sample_size
sample_size <- seq(2, 500, 48)
sample_size
sample_size <- ceiling(seq(2, 500, 48))
sample_size
sample_size <- seq(2, 500, 48)
map_dbl(sample_size, ~get_sample(x, size=.))
map(sample_size, ~get_sample(x, size=.))
map(sample_size, ~get_sample(x, size=.)) %>% data.table::rbindlist()
map(sample_size, ~get_sample(x, size=.) %>% list) %>% data.table::rbindlist()
map_dbl(sample_size, ~get_sample(x, size=.) %>% list)
map(sample_size, ~get_sample(x, size=.) %>% list) %>% data.table::rbindlist()
map(sample_size, ~get_sample(x, size=.)) %>% data.table::rbindlist(use.names = .)
map(sample_size, ~get_sample(x, size=.)) %>% data.table::rbindlist()
get_sample <- function(x, size){
if (size > length(x))
stop("size must be smaller than length of x")
sample_x <- sample(x, size = size, replace=FALSE)
names(sample_x) <- size %>% as.character()
}
sample_size <- seq(2, 500, 48)
map(sample_size, ~get_sample(x, size=.)) %>% data.table::rbindlist()
map(sample_size, ~get_sample(x, size=.))
get_sample <- function(x, size){
if (size > length(x))
stop("size must be smaller than length of x")
sample_x <- sample(x, size = size, replace=FALSE)
names(sample_x) <- size %>% as.character()
sample_x
}
sample_size <- seq(2, 500, 48)
map(sample_size, ~get_sample(x, size=.))
get_sample <- function(x, size){
if (size > length(x))
stop("size must be smaller than length of x")
sample_x <- sample(x, size = size, replace=FALSE) %>% list()
names(sample_x) <- size %>% as.character()
sample_x
}
sample_size <- seq(2, 500, 48)
map(sample_size, ~get_sample(x, size=.))
map(sample_size, ~get_sample(x, size=.)) %>% data.table::rbindlist()
map(sample_size, ~get_sample(x, size=.)) %>% data.table::rbindlist(use.names = TRUE)
map(sample_size, ~get_sample(x, size=.)) %>% data.table::rbindlist(use.names = TRUE, fill = TRUE)
map_df(sample_size, ~get_sample(x, size=.))
map_df(sample_size, ~get_sample(x, size=.))
map_df(sample_size, ~get_sample(x, size=.), .id = TRUE)
map_df(sample_size, ~get_sample(x, size=.))
map(sample_size, ~get_sample(x, size=.)) %>% do.call(rbind)
l <- map(sample_size, ~get_sample(x, size=.))
do.call(l, rbind)
l
l <- map_df(sample_size, ~get_sample(x, size=.))
l
l <- map_df(sample_size, ~get_sample(x, size=.)) %>% gather()
l
l <- map_df(sample_size, ~get_sample(x, size=.)) %>% gather() %>% na.omit()
l
df <- map_df(sample_size, ~get_sample(x, size=.)) %>%
gather() %>%
na.omit()
df
df %>%
ggplot(aes(x=value, color=key)) +
geom_histogram()
df %>%
ggplot(aes(x=value, fill=key)) +
geom_histogram()
df %>%
ggplot(aes(x=value, fill=key)) +
geom_histogram(position="doge")
df %>%
ggplot(aes(x=value, fill=key)) +
geom_histogram(position="dodge")
df %>%
ggplot(aes(x=value, fill=key)) +
geom_histogram(position="identity")
df <- map_df(sample_size, ~get_sample(x, size=.)) %>%
gather() %>%
na.omit() %>%
mutate(key = key %>% as.integer())
df %>%
ggplot(aes(x=value, fill=key)) +
geom_histogram(position="identity")
df %>%
ggplot(aes(x=value, fill=factor(key))) +
geom_histogram(position="identity")
df %>%
ggplot(aes(x=value, fill=factor(key))) +
geom_histogram(position="identity") +
theme_blog()
df %>%
ggplot(aes(x=value, fill=factor(key))) +
geom_histogram(position="identity", alpha=2) +
theme_blog()
df %>%
ggplot(aes(x=value)) +
geom_histogram(position="identity") +
theme_blog() +
facet_wrap(~key)
df %>%
ggplot(aes(x=value)) +
geom_histogram(position="identity") +
facet_wrap(~key) +
theme_blog()
sample_size <- c(2, 10, 50, 100, 500, 10000)
df <- map_df(sample_size, ~get_sample(x, size=.)) %>%
gather() %>%
na.omit() %>%
mutate(key = key %>% as.integer())
df %>%
ggplot(aes(x=value)) +
geom_histogram(position="identity") +
facet_wrap(~key) +
theme_blog()
df %>%
ggplot(aes(x=value)) +
geom_histogram(position="identity") +
facet_wrap(~key, scales = "free") +
theme_blog()
sample_size <- c(2, 50, 100, 500, 10000)
df <- map_df(sample_size, ~get_sample(x, size=.)) %>%
gather() %>%
na.omit() %>%
mutate(key = key %>% as.integer())
df %>%
ggplot(aes(x=value)) +
geom_histogram(position="identity") +
facet_wrap(~key, scales = "free") +
geom_label()
df %>%
ggplot(aes(x=value)) +
geom_histogram(position="identity") +
facet_wrap(~key, scales = "free") +
theme_blog()
sample_size <- c(10, 50, 100, 500, 10000)
df <- map_df(sample_size, ~get_sample(x, size=.)) %>%
gather() %>%
na.omit() %>%
mutate(key = key %>% as.integer())
df %>%
ggplot(aes(x=value)) +
geom_histogram(position="identity") +
facet_wrap(~key, scales = "free") +
theme_blog()
x <- faithful$eruptions
get_sample <- function(x, size){
if (size > length(x))
stop("size must be smaller than length of x")
sample_x <- sample(x, size = size, replace=FALSE) %>% list()
names(sample_x) <- size %>% as.character()
sample_x
}
length(x)
get_sample_mean <- function(x, size){
if (size > length(x))
stop("size must be smaller than length of x")
sample_x <- sample(x, size = size, replace=FALSE) %>% list()
sample_mean <- mean(sample_x)
}
get_sample_mean <- function(x, size){
if (size > length(x))
stop("size must be smaller than length of x")
sample_x <- sample(x, size = size, replace=FALSE) %>% list()
sample_mean <- mean(sample_x)
names(sample_mean) <- size %>% as.character()
}
get_sample_mean(x, 20)
get_sample_mean <- function(x, size){
if (size > length(x))
stop("size must be smaller than length of x")
sample_x <- sample(x, size = size, replace=FALSE) %>% list()
mean(sample_x)
}
get_sample_mean(x, 20)
sample_x <- sample(x, size = size, replace=FALSE)
get_sample_mean <- function(x, size){
if (size > length(x))
stop("size must be smaller than length of x")
sample_x <- sample(x, size = size, replace=FALSE)
mean(sample_x)
}
get_sample_mean(x, 20)
get_sample_mean(x, 20)
sample_size <- c(10, 50, 100, 500, 10000)
df <- map_df(sample_size, ~get_sample(x, size=.)) %>%
gather() %>%
na.omit() %>%
mutate(key = key %>% as.integer())
get_sample_mean(x, 20)
get_sample_mean(x, 20)
rep_get_sample_mean <- function(x, n_reps, ...){
means <- map_dbl(1:n_reps, ~get_sample_mean(x, ...)) %>%
as.list()
names(means) <- n_reps %>% as.character()
means
}
sample_size <- c(10, 50, 100, 500, 10000)
df <- map_df(sample_size, ~get_sample(x, size=.)) %>%
gather() %>%
na.omit() %>%
mutate(key = key %>% as.integer())
df <- map_df(sample_size, ~rep_get_sample_mean(x, n_reps=., size=100)) %>%
gather() %>%
na.omit() %>%
mutate(key = key %>% as.integer())
x <- faithful$eruptions
rep_get_sample_mean <- function(x, n_reps, ...){
means <- map_dbl(1:n_reps, ~get_sample_mean(x, ...)) %>%
as.list()
names(means) <- n_reps %>% as.character()
means
}
sample_size <- c(10, 50, 100, 500, 10000)
df <- map_df(sample_size, ~rep_get_sample_mean(x, n_reps=., size=100)) %>%
gather() %>%
na.omit() %>%
mutate(key = key %>% as.integer())
rep_get_sample_mean(x, n_reps=10, size=40)
rep_get_sample_mean <- function(x, n_reps, size){
means <- map_dbl(1:n_reps, ~get_sample_mean(x, size)) %>%
as.list()
names(means) <- n_reps %>% as.character()
means
}
sample_size <- c(10, 50, 100, 500, 10000)
df <- map_df(sample_size, ~rep_get_sample_mean(x, n_reps=., size=100)) %>%
gather() %>%
na.omit() %>%
mutate(key = key %>% as.integer())
df
View(df)
df <- map_df(sample_size, ~rep_get_sample_mean(x, n_reps=., size=100)) %>%
gather() %>%
na.omit() %>%
mutate(key = key %>% as.integer())
sample_size <- c(10, 50, 500, 1000)
df <- map_df(sample_size, ~rep_get_sample_mean(x, n_reps=., size=100)) %>%
gather() %>%
na.omit() %>%
mutate(key = key %>% as.integer())
df
df %>%
ggplot(aes(x=value)) +
geom_histogram(position="identity") +
facet_wrap(~key, scales = "free") +
theme_blog()
df %>%
ggplot(aes(x=value)) +
geom_histogram(position="identity") +
facet_wrap(~key, scales = "free") +
theme_blog()
df <- map_df(sample_size, ~rep_get_sample_mean(x, n_reps=., size=100)) %>%
gather() %>%
na.omit() %>%
mutate(key = key %>% as.integer())
df <- map_df(sample_size, ~rep_get_sample_mean(x, n_reps=., size=100))
View(df)
rep_get_sample_mean <- function(x, n_reps, size){
means <- map(1:n_reps, ~get_sample_mean(x, size))
names(means) <- n_reps %>% as.character()
means
}
sample_size <- c(10, 50, 500, 1000)
df <- map_df(sample_size, ~rep_get_sample_mean(x, n_reps=., size=100))
df <- map_df(sample_size, ~rep_get_sample_mean(x, n_reps=., size=100))
View(df)
rep_get_sample_mean(x, n_reps=10, size=40)
rep_get_sample_mean <- function(x, n_reps, size){
means <- map_dbl(1:n_reps, ~get_sample_mean(x, size))
means <- list(means)
names(means) <- n_reps %>% as.character()
means
}
rep_get_sample_mean(x, n_reps=10, size=40)
df <- map_df(sample_size, ~rep_get_sample_mean(x, n_reps=., size=100)) %>%
gather() %>%
na.omit() %>%
mutate(key = key %>% as.integer())
df %>%
ggplot(aes(x=value)) +
geom_histogram(position="identity") +
facet_wrap(~key, scales = "free") +
theme_blog()
rm(list=ls())
library(tidyverse)
library(rsenal)
set.seed(2323)
x <- faithful$eruptions
get_sample_mean <- function(x, size){
if (size > length(x))
stop("size must be smaller than length of x")
sample_x <- sample(x, size = size, replace=FALSE)
mean(sample_x)
}
rep_get_sample_mean <- function(x, n_reps, size){
means <- map_dbl(1:n_reps, ~get_sample_mean(x, size))
means <- list(means)
names(means) <- n_reps %>% as.character()
means
}
sample_size <- c(10, 50, 500, 10000)
df <- map_df(sample_size, ~rep_get_sample_mean(x, n_reps=., size=100)) %>%
gather() %>%
na.omit() %>%
mutate(key = key %>% as.integer())
df %>%
ggplot(aes(x=value)) +
geom_histogram(position="identity") +
facet_wrap(~key, scales = "free") +
theme_blog()
x <- faithful$eruptions
mean(x)
sample_size <- c(10, 50, 100, 500, 10000)
df <- map_df(sample_size, ~rep_get_sample_mean(x, n_reps=., size=100)) %>%
gather() %>%
na.omit() %>%
mutate(key = key %>% as.integer())
df %>%
ggplot(aes(x=value)) +
geom_histogram(position="identity") +
facet_wrap(~key, scales = "free") +
theme_blog()
sample_size <- c(10, 50, 100, 500, 1000, 10000)
df <- map_df(sample_size, ~rep_get_sample_mean(x, n_reps=., size=100)) %>%
gather() %>%
na.omit() %>%
mutate(key = key %>% as.integer())
df %>%
ggplot(aes(x=value)) +
geom_histogram(position="identity") +
facet_wrap(~key, scales = "free") +
theme_blog()
get_sample_f <- function(x, .f, size){
if (size > length(x))
stop("size must be smaller than length of x")
sample_x <- sample(x, size = size, replace=FALSE)
.f(sample_x)
}
rep_get_sample_f <- function(x, .f, n_reps, size){
means <- map_dbl(1:n_reps, ~get_sample_mean(x, .f, size))
means <- list(means)
names(means) <- n_reps %>% as.character()
means
}
sample_size <- c(10, 50, 100, 500, 1000, 10000)
rep_get_sample_f(x, mean, n_reps=20, size=30)
rep_get_sample_f <- function(x, .f, n_reps, size){
means <- map_dbl(1:n_reps, ~get_sample_mean(x, .f, size))
means <- list(means)
names(means) <- n_reps %>% as.character()
means
}
rep_get_sample_f(x, mean, n_reps=20, size=30)
rep_get_sample_f(x, mean, n_reps=20, size=30)
get_sample_f <- function(x, .f, size){
if (size > length(x))
stop("size must be smaller than length of x")
sample_x <- sample(x, size = size, replace=FALSE)
do.call(sample_x, .f)
}
rep_get_sample_f(x, mean, n_reps=20, size=30)
